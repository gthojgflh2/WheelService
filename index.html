<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ö–æ–ª–µ—Å–æ —Ñ–æ—Ä—Ç—É–Ω—ã Spamlordy</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            user-select: none;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
            padding: 10px;
        }

        .container {
            width: 100%;
            max-width: 420px;
            padding: 15px;
            text-align: center;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 30px;
            backdrop-filter: blur(10px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
        }

        h1 {
            font-size: 32px;
            margin-bottom: 15px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        h1 span {
            background: rgba(255,215,0,0.3);
            padding: 5px 15px;
            border-radius: 50px;
            font-size: 16px;
            border: 1px solid gold;
        }

        .stats {
            background: rgba(255,255,255,0.2);
            border-radius: 20px;
            padding: 15px;
            margin-bottom: 20px;
            backdrop-filter: blur(10px);
            display: flex;
            justify-content: space-around;
            border: 1px solid rgba(255,255,255,0.3);
        }

        .stat-item {
            text-align: center;
            flex: 1;
        }

        .stat-value {
            font-size: 28px;
            font-weight: bold;
            background: rgba(255,255,255,0.2);
            border-radius: 15px;
            padding: 5px 10px;
            display: inline-block;
            min-width: 60px;
        }

        .stat-label {
            font-size: 12px;
            opacity: 0.9;
            margin-top: 5px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .wheel-container {
            position: relative;
            width: 280px;
            height: 280px;
            margin: 20px auto 30px;
            cursor: pointer;
        }

        .wheel {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            position: relative;
            overflow: hidden;
            transition: transform 3s cubic-bezier(0.25, 0.1, 0.15, 1);
            box-shadow: 0 15px 35px rgba(0,0,0,0.5), inset 0 0 30px rgba(255,215,0,0.3);
            border: 4px solid gold;
        }

        .wheel::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 50px;
            height: 50px;
            background: white;
            border-radius: 50%;
            z-index: 10;
            box-shadow: 0 4px 15px rgba(0,0,0,0.5);
            border: 3px solid gold;
        }

        .pointer {
            position: absolute;
            top: -20px;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 0;
            border-left: 25px solid transparent;
            border-right: 25px solid transparent;
            border-top: 50px solid #ff4444;
            z-index: 20;
            filter: drop-shadow(0 8px 8px rgba(0,0,0,0.4));
        }

        .pointer::after {
            content: '';
            position: absolute;
            top: -45px;
            left: -8px;
            width: 16px;
            height: 16px;
            background: gold;
            border-radius: 50%;
            box-shadow: 0 0 15px gold;
        }

        .segment {
            position: absolute;
            width: 50%;
            height: 50%;
            transform-origin: bottom right;
            left: 0;
            top: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
            font-weight: bold;
            font-size: 16px;
            text-shadow: 2px 2px 3px black;
            padding-left: 35px;
            border: 1px solid rgba(255,255,255,0.3);
            box-sizing: border-box;
        }

        .segment span {
            transform: rotate(45deg);
            display: block;
            text-align: center;
            width: 100%;
            font-size: 14px;
            line-height: 1.2;
            word-break: break-word;
            max-width: 70px;
        }

        .prize-info {
            font-size: 20px;
            margin: 15px 0;
            min-height: 60px;
            font-weight: bold;
            background: rgba(0,0,0,0.3);
            padding: 12px;
            border-radius: 50px;
            border: 1px solid gold;
            box-shadow: inset 0 2px 10px rgba(0,0,0,0.3);
        }

        .spin-btn {
            background: linear-gradient(45deg, #ff6b6b, #ff8e53);
            color: white;
            border: none;
            padding: 18px 40px;
            border-radius: 60px;
            font-size: 22px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.2s;
            box-shadow: 0 8px 20px rgba(0,0,0,0.4);
            width: 100%;
            margin-bottom: 12px;
            border: 2px solid gold;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        .spin-btn:active {
            transform: scale(0.97);
            box-shadow: 0 4px 10px rgba(0,0,0,0.4);
        }

        .spin-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
            background: linear-gradient(45deg, #999, #777);
        }

        .back-btn {
            background: rgba(255,255,255,0.15);
            color: white;
            border: 2px solid rgba(255,255,255,0.5);
            padding: 12px 20px;
            border-radius: 50px;
            font-size: 18px;
            cursor: pointer;
            width: 100%;
            backdrop-filter: blur(10px);
            transition: all 0.2s;
            font-weight: 500;
            letter-spacing: 1px;
        }

        .back-btn:active {
            background: rgba(255,255,255,0.3);
            transform: scale(0.98);
        }

        .badges {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 15px;
        }

        .free-badge {
            background: #4CAF50;
            color: white;
            padding: 8px 15px;
            border-radius: 30px;
            font-size: 14px;
            font-weight: bold;
            display: inline-flex;
            align-items: center;
            gap: 5px;
            box-shadow: 0 4px 10px rgba(76,175,80,0.3);
        }

        .extra-badge {
            background: #FF9800;
            color: white;
            padding: 8px 15px;
            border-radius: 30px;
            font-size: 14px;
            font-weight: bold;
            display: inline-flex;
            align-items: center;
            gap: 5px;
            box-shadow: 0 4px 10px rgba(255,152,0,0.3);
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .pulse {
            animation: pulse 2s infinite;
        }

        @keyframes glow {
            0% { box-shadow: 0 0 10px gold; }
            50% { box-shadow: 0 0 30px gold; }
            100% { box-shadow: 0 0 10px gold; }
        }

        .wheel.spinning {
            animation: glow 1s infinite;
        }

        /* –£–ª—É—á—à–µ–Ω–Ω—ã–µ —Ü–≤–µ—Ç–∞ –¥–ª—è —Å–µ–≥–º–µ–Ω—Ç–æ–≤ */
        .segment[data-prize="1 —á–∞—Å"] { background: #FF6B6B; }
        .segment[data-prize="2 —á–∞—Å–∞"] { background: #4ECDC4; }
        .segment[data-prize="3 —á–∞—Å–∞"] { background: #45B7D1; }
        .segment[data-prize="6 —á–∞—Å–æ–≤"] { background: #96CEB4; }
        .segment[data-prize="2 —Å–ª–æ—Ç–∞"] { background: #FFE194; }
        .segment[data-prize="–õ–æ—Ç–µ—Ä–µ—è"] { background: #D4A5A5; }
        .segment[data-prize="+1 –ø—Ä–æ–∫—Ä—É—Ç"] { background: #9B59B6; }
        .segment[data-prize="–ü—Ä–æ–º–æ–∫–æ–¥"] { background: #F1C40F; }
        .segment[data-prize="25 –≥—Ä–Ω"] { background: #E67E22; }
        .segment[data-prize="50 –≥—Ä–Ω"] { background: #2ECC71; }
    </style>
</head>
<body>
    <div class="container">
        <h1>
            üé° –ö–æ–ª–µ—Å–æ —Ñ–æ—Ä—Ç—É–Ω—ã
            <span>VIP</span>
        </h1>

        <div class="stats">
            <div class="stat-item">
                <div class="stat-value" id="freeSpins">0</div>
                <div class="stat-label">–ë–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö</div>
            </div>
            <div class="stat-item">
                <div class="stat-value" id="extraSpins">0</div>
                <div class="stat-label">–î–æ–ø. –ø—Ä–æ–∫—Ä—É—Ç–æ–≤</div>
            </div>
            <div class="stat-item">
                <div class="stat-value" id="totalSpins">0</div>
                <div class="stat-label">–í—Å–µ–≥–æ</div>
            </div>
        </div>

        <div class="wheel-container">
            <div class="pointer"></div>
            <div class="wheel" id="wheel"></div>
        </div>

        <div class="prize-info" id="prizeInfo">
            üéØ –ù–∞–∂–º–∏ –∫–Ω–æ–ø–∫—É, —á—Ç–æ–±—ã –∫—Ä—É—Ç–∏—Ç—å!
        </div>

        <div class="badges">
            <span class="free-badge" id="freeBadge">
                üÜì –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π: ‚úÖ
            </span>
            <span class="extra-badge" id="extraBadge">
                ‚ú® –î–æ–ø. –ø—Ä–æ–∫—Ä—É—Ç–æ–≤: 0
            </span>
        </div>

        <button class="spin-btn" id="spinBtn" onclick="spinWheel()">
            üé° –ö–†–£–¢–ò–¢–¨
        </button>
        <button class="back-btn" onclick="closeApp()">
            ‚óÄÔ∏è –ù–ê–ó–ê–î –í –ü–†–û–§–ò–õ–¨
        </button>
    </div>

    <script>
        let tg = window.Telegram.WebApp;
        let userId = null;
        let spinType = 'free';
        let canSpin = true;
        let extraSpins = 0;
        let isSpinning = false;
        let totalSpins = 0;

        // –ü—Ä–∏–∑—ã –∏ –∏—Ö —Ü–≤–µ—Ç–∞
        const prizes = [
            { name: '1 —á–∞—Å', value: 60, color: '#FF6B6B', emoji: '‚è±Ô∏è' },
            { name: '2 —á–∞—Å–∞', value: 120, color: '#4ECDC4', emoji: '‚è±Ô∏è' },
            { name: '3 —á–∞—Å–∞', value: 180, color: '#45B7D1', emoji: '‚è±Ô∏è' },
            { name: '6 —á–∞—Å–æ–≤', value: 360, color: '#96CEB4', emoji: '‚è±Ô∏è' },
            { name: '2 —Å–ª–æ—Ç–∞', value: 2, color: '#FFE194', emoji: 'üß©' },
            { name: '–õ–æ—Ç–µ—Ä–µ—è', value: 1, color: '#D4A5A5', emoji: 'üé∞' },
            { name: '+1 –ø—Ä–æ–∫—Ä—É—Ç', value: 1, color: '#9B59B6', emoji: '‚ú®' },
            { name: '–ü—Ä–æ–º–æ–∫–æ–¥', value: 50, color: '#F1C40F', emoji: 'üéüÔ∏è' },
            { name: '25 –≥—Ä–Ω', value: 25, color: '#E67E22', emoji: 'üí∞' },
            { name: '50 –≥—Ä–Ω', value: 50, color: '#2ECC71', emoji: 'üí∞' }
        ];

        // –ù–∞—Å—Ç—Ä–æ–π–∫–∏ Telegram WebApp
        tg.ready();
        tg.expand();
        tg.MainButton.hide();

        // –ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∏–∑ URL
        function getUrlParams() {
            try {
                const params = new URLSearchParams(window.location.search);
                userId = params.get('user');
                const canSpinFree = params.get('canSpin') === 'true';
                extraSpins = parseInt(params.get('extraSpins') || '0');

                canSpin = canSpinFree;

                document.getElementById('freeBadge').innerHTML = canSpinFree ?
                    'üÜì –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π: ‚úÖ' : 'üÜì –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π: ‚ùå';
                document.getElementById('extraBadge').innerHTML = `‚ú® –î–æ–ø. –ø—Ä–æ–∫—Ä—É—Ç–æ–≤: ${extraSpins}`;

                // –ó–∞–≥—Ä—É–∂–∞–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∏–∑ localStorage
                loadStats();
                updateSpinButton();
            } catch (e) {
                console.error('Error parsing URL params:', e);
            }
        }

        function loadStats() {
            try {
                const saved = localStorage.getItem(`wheel_stats_${userId}`);
                if (saved) {
                    totalSpins = parseInt(saved) || 0;
                }
                document.getElementById('totalSpins').textContent = totalSpins;
                document.getElementById('freeSpins').textContent = canSpin ? '1' : '0';
                document.getElementById('extraSpins').textContent = extraSpins;
            } catch (e) {
                console.error('Error loading stats:', e);
            }
        }

        function saveStats() {
            try {
                if (userId) {
                    localStorage.setItem(`wheel_stats_${userId}`, totalSpins.toString());
                }
            } catch (e) {
                console.error('Error saving stats:', e);
            }
        }

        function updateSpinButton() {
            const btn = document.getElementById('spinBtn');
            if (canSpin) {
                btn.innerHTML = 'üé° –ö–†–£–¢–ò–¢–¨ –ë–ï–°–ü–õ–ê–¢–ù–û';
                spinType = 'free';
                btn.disabled = false;
            } else if (extraSpins > 0) {
                btn.innerHTML = `‚ú® –ö–†–£–¢–ò–¢–¨ –î–û–ü. –ü–†–û–ö–†–£–¢ (${extraSpins})`;
                spinType = 'extra';
                btn.disabled = false;
            } else {
                btn.innerHTML = '‚ùå –ù–ï–¢ –ü–†–û–ö–†–£–¢–û–í';
                btn.disabled = true;
            }
        }

        // –°–æ–∑–¥–∞–µ–º —Å–µ–≥–º–µ–Ω—Ç—ã –∫–æ–ª–µ—Å–∞
        function createWheelSegments() {
            const wheel = document.getElementById('wheel');
            wheel.innerHTML = '';

            const anglePerPrize = 360 / prizes.length;

            prizes.forEach((prize, index) => {
                const segment = document.createElement('div');
                segment.className = 'segment';
                segment.setAttribute('data-prize', prize.name);
                segment.style.backgroundColor = prize.color;
                
                // –í—ã—á–∏—Å–ª—è–µ–º —É–≥–ª—ã –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
                const rotateAngle = index * anglePerPrize;
                segment.style.transform = `rotate(${rotateAngle}deg) skewY(${90 - anglePerPrize}deg)`;

                const span = document.createElement('span');
                // –ö–æ–º–ø–µ–Ω—Å–∏—Ä—É–µ–º skew –¥–ª—è —Ç–µ–∫—Å—Ç–∞
                span.style.transform = `rotate(${anglePerPrize / 2}deg) skewY(-${90 - anglePerPrize}deg)`;
                span.style.display = 'flex';
                span.style.flexDirection = 'column';
                span.style.alignItems = 'center';
                span.style.justifyContent = 'center';
                span.style.height = '100%';
                span.style.width = '100%';
                span.style.fontSize = window.innerWidth < 380 ? '12px' : '14px';
                
                // –î–æ–±–∞–≤–ª—è–µ–º —ç–º–æ–¥–∑–∏ –∏ —Ç–µ–∫—Å—Ç
                span.innerHTML = `
                    <span style="font-size: 20px; margin-bottom: 2px;">${prize.emoji}</span>
                    <span>${prize.name}</span>
                `;

                segment.appendChild(span);
                wheel.appendChild(segment);
            });
        }

        // –í—ã–±–æ—Ä —Å–ª—É—á–∞–π–Ω–æ–≥–æ –ø—Ä–∏–∑–∞
        function getRandomPrize() {
            // –í–µ—Å–∞ –ø—Ä–∏–∑–æ–≤ (—á–µ–º –±–æ–ª—å—à–µ —á–∏—Å–ª–æ, —Ç–µ–º –≤—ã—à–µ —à–∞–Ω—Å)
            const weights = [30, 20, 15, 5, 2, 4, 8, 1, 12, 3];
            const totalWeight = weights.reduce((a, b) => a + b, 0);
            let random = Math.random() * totalWeight;

            let sum = 0;
            for (let i = 0; i < weights.length; i++) {
                sum += weights[i];
                if (random < sum) {
                    // –î–æ–±–∞–≤–ª—è–µ–º —Å–ª—É—á–∞–π–Ω–æ–µ —Å–º–µ—â–µ–Ω–∏–µ –¥–ª—è —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–æ—Å—Ç–∏
                    const extraRotation = Math.random() * 20 - 10;
                    return {
                        index: i,
                        prize: prizes[i],
                        rotation: 360 * 5 + (i * (360 / prizes.length)) + (360 / prizes.length / 2) + extraRotation
                    };
                }
            }
            return { index: 0, prize: prizes[0], rotation: 360 * 5 };
        }

        // –ö—Ä—É—Ç–∏–º –∫–æ–ª–µ—Å–æ
        function spinWheel() {
            if (isSpinning) return;

            let currentSpinType = spinType;

            if (currentSpinType === 'free' && !canSpin) {
                tg.showAlert('‚ùå –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π –ø—Ä–æ–∫—Ä—É—Ç —É–∂–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω –Ω–∞ —ç—Ç–æ–π –Ω–µ–¥–µ–ª–µ!');
                return;
            }

            if (currentSpinType === 'extra' && extraSpins <= 0) {
                tg.showAlert('‚ùå –£ –≤–∞—Å –Ω–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –ø—Ä–æ–∫—Ä—É—Ç–æ–≤!');
                return;
            }

            isSpinning = true;
            const wheel = document.getElementById('wheel');
            wheel.classList.add('spinning');
            document.getElementById('spinBtn').disabled = true;
            document.getElementById('prizeInfo').innerHTML = 'üé° –ö—Ä—É—Ç–∏–º –∫–æ–ª–µ—Å–æ... üîÆ';

            const result = getRandomPrize();

            // –ê–Ω–∏–º–∏—Ä—É–µ–º –≤—Ä–∞—â–µ–Ω–∏–µ
            wheel.style.transform = `rotate(${result.rotation}deg)`;

            // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ –±–æ—Ç
            setTimeout(() => {
                wheel.classList.remove('spinning');
                
                // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ –≤ –±–æ—Ç
                tg.sendData(JSON.stringify({
                    type: currentSpinType,
                    prize: {
                        name: result.prize.name,
                        value: result.prize.value
                    }
                }));

                // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
                totalSpins++;
                document.getElementById('totalSpins').textContent = totalSpins;
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
                document.getElementById('prizeInfo').innerHTML = `
                    üéâ <b>${result.prize.emoji} ${result.prize.name}!</b><br>
                    <span style="font-size: 14px; opacity: 0.9;">${getPrizeDescription(result.prize)}</span>
                `;

                // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø—Ä–æ–∫—Ä—É—Ç–æ–≤
                if (currentSpinType === 'free') {
                    canSpin = false;
                    document.getElementById('freeBadge').innerHTML = 'üÜì –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π: ‚ùå';
                    document.getElementById('freeSpins').textContent = '0';
                } else {
                    extraSpins--;
                    document.getElementById('extraBadge').innerHTML = `‚ú® –î–æ–ø. –ø—Ä–æ–∫—Ä—É—Ç–æ–≤: ${extraSpins}`;
                    document.getElementById('extraSpins').textContent = extraSpins;
                }

                saveStats();
                updateSpinButton();

                setTimeout(() => {
                    isSpinning = false;
                }, 500);

            }, 3000);
        }

        function getPrizeDescription(prize) {
            switch(prize.name) {
                case '1 —á–∞—Å': return '‚úÖ +60 –º–∏–Ω—É—Ç –¥–æ—Å—Ç—É–ø–∞';
                case '2 —á–∞—Å–∞': return '‚úÖ +120 –º–∏–Ω—É—Ç –¥–æ—Å—Ç—É–ø–∞';
                case '3 —á–∞—Å–∞': return '‚úÖ +180 –º–∏–Ω—É—Ç –¥–æ—Å—Ç—É–ø–∞';
                case '6 —á–∞—Å–æ–≤': return '‚úÖ +360 –º–∏–Ω—É—Ç –¥–æ—Å—Ç—É–ø–∞';
                case '2 —Å–ª–æ—Ç–∞': return '‚úÖ +2 —Å–ª–æ—Ç–∞ –Ω–∞ 2 –Ω–µ–¥–µ–ª–∏';
                case '–õ–æ—Ç–µ—Ä–µ—è': return 'üé∞ –ë–µ—Å–ø–ª–∞—Ç–Ω–∞—è –ª–æ—Ç–µ—Ä–µ—è';
                case '+1 –ø—Ä–æ–∫—Ä—É—Ç': return '‚ú® +1 –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –ø—Ä–æ–∫—Ä—É—Ç';
                case '–ü—Ä–æ–º–æ–∫–æ–¥': return 'üéü –ü—Ä–æ–º–æ–∫–æ–¥ –Ω–∞ 50 –≥—Ä–Ω';
                case '25 –≥—Ä–Ω': return 'üí∞ +25 –≥—Ä–Ω –Ω–∞ –±–∞–ª–∞–Ω—Å';
                case '50 –≥—Ä–Ω': return 'üí∞ +50 –≥—Ä–Ω –Ω–∞ –±–∞–ª–∞–Ω—Å';
                default: return 'üéÅ –ü—Ä–∏–∑ –ø–æ–ª—É—á–µ–Ω!';
            }
        }

        function closeApp() {
            tg.close();
        }

        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ä–∞–∑–º–µ—Ä–∞ —ç–∫—Ä–∞–Ω–∞
        window.addEventListener('resize', () => {
            createWheelSegments();
        });

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        createWheelSegments();
        getUrlParams();

        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö –æ—Ç –±–æ—Ç–∞
        tg.onEvent('mainButtonClicked', function() {
            tg.sendData(JSON.stringify({ action: 'close' }));
        });

        // –î–æ–±–∞–≤–ª—è–µ–º –ø–æ–¥–¥–µ—Ä–∂–∫—É —Å–≤–∞–π–ø–æ–≤ –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö
        let touchStartX = 0;
        let touchStartY = 0;

        document.addEventListener('touchstart', (e) => {
            touchStartX = e.touches[0].clientX;
            touchStartY = e.touches[0].clientY;
        });

        document.addEventListener('touchend', (e) => {
            const touchEndX = e.changedTouches[0].clientX;
            const touchEndY = e.changedTouches[0].clientY;
            const dx = touchEndX - touchStartX;
            const dy = touchEndY - touchStartY;

            // –ï—Å–ª–∏ —Å–≤–∞–π–ø –≤–Ω–∏–∑ - –∑–∞–∫—Ä—ã–≤–∞–µ–º
            if (Math.abs(dy) > Math.abs(dx) && dy > 50) {
                closeApp();
            }
        });
    </script>
</body>
</html>
